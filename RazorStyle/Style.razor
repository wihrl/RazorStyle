@code {

    [Parameter]
    public RenderFragment<Func<string, string>>? ChildContent { get; set; }

    [Parameter]
    public bool Clone { get; set; }

    internal static readonly string CloneSuffix = "-2";

    protected override void OnInitialized()
    {
        if (ChildContent is null)
            return;

        if (!Clone)
            CssRoot.TryAddFragment(ChildContent, ChildContent(_ => throw new("Cloning is disabled.")));

        else
        {
            var a = ChildContent(s => s);
            var b = ChildContent(s => s + CloneSuffix);
            var doubledFragment = Delegate.Combine(a, b);
            CssRoot.TryAddFragment(ChildContent, (RenderFragment) doubledFragment);
        }
    }

}